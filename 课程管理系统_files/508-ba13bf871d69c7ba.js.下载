"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[508],{8508:(e,a,t)=>{t.d(a,{$9:()=>ec,$D:()=>W,$E:()=>eb,$t:()=>g,A0:()=>S,AH:()=>$,AM:()=>L,B9:()=>M,BE:()=>eE,CG:()=>l,Dk:()=>H,FZ:()=>en,IJ:()=>eG,Jw:()=>ed,L9:()=>eh,Mg:()=>es,NN:()=>ek,NU:()=>eS,Oh:()=>e_,P$:()=>eP,PN:()=>D,QU:()=>ei,Qg:()=>C,R9:()=>z,RH:()=>et,RK:()=>el,RX:()=>eL,Rt:()=>R,Sf:()=>B,Tw:()=>K,UA:()=>f,Ug:()=>eo,Uu:()=>F,VD:()=>eJ,VN:()=>_,VU:()=>V,WP:()=>O,Wz:()=>ep,XL:()=>h,XM:()=>X,YF:()=>Q,_c:()=>q,_e:()=>w,ab:()=>Y,ac:()=>N,b8:()=>J,bW:()=>ee,b_:()=>I,bu:()=>eg,c8:()=>er,dQ:()=>U,e7:()=>eT,eW:()=>eR,eY:()=>ex,ec:()=>p,g4:()=>u,gk:()=>v,h5:()=>b,hd:()=>eu,iD:()=>c,iO:()=>eC,js:()=>Z,lW:()=>G,lY:()=>x,lq:()=>P,mF:()=>ew,mz:()=>T,ov:()=>E,q6:()=>em,qz:()=>y,ri:()=>i,rq:()=>A,sI:()=>m,su:()=>j,tX:()=>ea,td:()=>eU,tz:()=>eO,ug:()=>d,w4:()=>eN,wW:()=>ef,xV:()=>ey,yG:()=>ej,yr:()=>k});var s=t(5594);let o=()=>{localStorage.removeItem("token"),localStorage.removeItem("user")},n=()=>{o(),window.location.href="/student/login"};{let e=window.fetch.bind(window);window.fetch=async(a,t)=>{let s=await e(a,t),o="string"==typeof a?a:a.toString();if(o.includes("/api/")&&!o.includes("/api/public/user_info"))try{let e=s.clone(),a=await e.json();((null==a?void 0:a.status)===400001||(null==a?void 0:a.message)==="Unauthorized")&&n()}catch(e){console.warn("无法解析API响应:",e)}return s}}let r=()=>{{let e=localStorage.getItem("token");return e?{Authorization:e}:{}}},c=async e=>{try{console.log("登录请求参数:",e),console.log("登录请求URL:","/api/login");let a=await fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t=await a.json();return console.log("登录响应状态:",a.status),console.log("登录响应结果:",t),{code:0===t.status?200:a.status,message:t.message||"",data:t.data,token:t.token}}catch(e){return console.error("登录异常:",e),{code:500,message:e instanceof Error?e.message:"登录失败"}}},i=async()=>{try{console.log("退出请求URL:","/api/logout");let e=(0,s._)({"Content-Type":"application/json"},r()),a=await fetch("/api/logout",{method:"POST",headers:e}),t=await a.json();return console.log("退出响应状态:",a.status),console.log("退出响应结果:",t),localStorage.removeItem("token"),{code:0===t.status?200:400,message:t.message||"",data:t.data}}catch(e){return console.error("退出异常:",e),{code:500,message:e instanceof Error?e.message:"退出失败"}}},l=async()=>{try{var e;console.log("获取警告请求URL:","/api/students/get_my_warning");let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/students/get_my_warning",{method:"GET",headers:a}),o=await t.json();return console.log("获取警告响应状态:",t.status),console.log("获取警告响应结果:",o),{code:0===o.status?200:400,message:o.message||"",data:(null===(e=o.data)||void 0===e?void 0:e.rows)||[]}}catch(e){return console.error("获取警告异常:",e),{code:500,message:e instanceof Error?e.message:"获取警告失败"}}},d=async()=>{try{console.log("获取用户信息请求URL:","/api/public/user_info");let e=(0,s._)({"Content-Type":"application/json"},r()),a=await fetch("/api/public/user_info",{method:"GET",headers:e}),t=await a.json();return console.log("获取用户信息响应状态:",a.status),console.log("获取用户信息响应结果:",t),{code:0===t.status?200:400,message:t.message||"",data:t.data}}catch(e){return console.error("获取用户信息异常:",e),{code:500,message:e instanceof Error?e.message:"获取用户信息失败"}}},g=async()=>{try{console.log("获取校园卡信息请求URL:","/api/card/get_card_list");let e=(0,s._)({"Content-Type":"application/json"},r()),a=await fetch("/api/card/get_card_list",{method:"GET",headers:e}),t=await a.json();return console.log("获取校园卡信息响应状态:",a.status),console.log("获取校园卡信息响应结果:",t),{code:0===t.status?200:400,message:t.message||"",data:t.data||{}}}catch(e){return console.error("获取校园卡信息异常:",e),{code:500,message:e instanceof Error?e.message:"获取校园卡信息失败"}}},m=async e=>{try{console.log("提交投诉请求URL:","/api/students/student_complaints");let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/students/student_complaints",{method:"POST",headers:a,body:JSON.stringify({complaint:e})}),o=await t.json();return console.log("提交投诉响应状态:",t.status),console.log("提交投诉响应结果:",o),{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("提交投诉异常:",e),{code:500,message:e instanceof Error?e.message:"提交投诉失败"}}},p=async e=>{try{console.log("修改密码请求URL:","/api/students/change_password");let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/students/change_password",{method:"POST",headers:a,body:JSON.stringify(e)}),o=await t.json();return console.log("修改密码响应状态:",t.status),console.log("修改密码响应结果:",o),{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("修改密码异常:",e),{code:500,message:e instanceof Error?e.message:"修改密码失败"}}},u=async e=>{try{console.log("获取充值记录请求URL:","/api/card/recharge-record");let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/card/recharge-record?card_id=".concat(e),{method:"GET",headers:a}),o=await t.json();return console.log("获取充值记录响应状态:",t.status),console.log("获取充值记录响应结果:",o),{code:0===o.status?200:400,message:o.message||"",data:o.data||{}}}catch(e){return console.error("获取充值记录异常:",e),{code:500,message:e instanceof Error?e.message:"获取充值记录失败"}}},y=async e=>{try{console.log("获取消费记录请求URL:","/api/card/card-consume-record");let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/card/card-consume-record?cardNo=".concat(e),{method:"GET",headers:a}),o=await t.json();return console.log("获取消费记录响应状态:",t.status),console.log("获取消费记录响应结果:",o),{code:0===o.status?200:400,message:o.message||"",data:o.data||{}}}catch(e){return console.error("获取消费记录异常:",e),{code:500,message:e instanceof Error?e.message:"获取消费记录失败"}}},_=async(e,a)=>{try{console.log("直接充值请求URL:","/api/card/do-recharge");let t=(0,s._)({"Content-Type":"application/json"},r()),o=await fetch("/api/card/do-recharge",{method:"POST",headers:t,body:JSON.stringify({card_id:e,amount:a})}),n=await o.json();return console.log("直接充值响应状态:",o.status),console.log("直接充值响应结果:",n),{code:0===n.status?200:400,message:n.message||"",data:n.data||{}}}catch(e){return console.error("直接充值异常:",e),{code:500,message:e instanceof Error?e.message:"充值失败"}}},h=async()=>{try{console.log("获取课程表请求URL:","/api/students/get_lesson_table");let e=(0,s._)({"Content-Type":"application/json"},r()),a=await fetch("/api/students/get_lesson_table",{method:"GET",headers:e}),t=await a.json();return console.log("获取课程表响应状态:",a.status),console.log("获取课程表响应结果:",t),{code:0===t.status?200:400,message:t.message||"",data:t.data||{}}}catch(e){return console.error("获取课程表异常:",e),{code:500,message:e instanceof Error?e.message:"获取课程表失败"}}},f=async()=>{try{let e=(0,s._)({"Content-Type":"application/json"},r()),a=await fetch("/api/locker/get-student-locker-list",{method:"GET",headers:e}),t=await a.json();return{code:0===t.status?200:400,message:t.message||"",data:t.data||[]}}catch(e){return console.error("获取储物柜列表异常:",e),{code:500,message:e instanceof Error?e.message:"获取储物柜列表失败"}}},w=async()=>{try{console.log("获取全部试卷树结构请求URL:","/api/library/get_all_pastpaper");let e=(0,s._)({"Content-Type":"application/json"},r()),a=await fetch("/api/library/get_all_pastpaper",{method:"GET",headers:e}),t=await a.json();return console.log("获取全部试卷树结构响应状态:",a.status),{code:0===t.status?200:400,message:t.message||"",data:t.data||{}}}catch(e){return console.error("获取全部试卷树结构异常:",e),{code:500,message:e instanceof Error?e.message:"获取全部试卷树结构失败"}}},j=async()=>{try{console.log("获取已锁定储物柜列表请求URL:","/api/locker/get-student-booked-locker");let e=(0,s._)({"Content-Type":"application/json"},r()),a=await fetch("/api/locker/get-student-booked-locker",{method:"GET",headers:e}),t=await a.json();return console.log("获取已锁定储物柜列表响应状态:",a.status),console.log("获取已锁定储物柜列表响应结果:",t),{code:0===t.status?200:400,message:t.message||"",data:t.data||{}}}catch(e){return console.error("获取已锁定储物柜列表异常:",e),{code:500,message:e instanceof Error?e.message:"获取已锁定储物柜列表失败"}}},T=async e=>{try{console.log("获取储物柜详情请求URL:","/api/locker/locker_detail/".concat(e));let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/locker/locker_detail/".concat(e),{method:"GET",headers:a}),o=await t.json();return console.log("获取储物柜详情响应状态:",t.status),console.log("获取储物柜详情响应结果:",o),{code:0===o.status?200:400,message:o.message||"",data:o.data||{}}}catch(e){return console.error("获取储物柜详情异常:",e),{code:500,message:e instanceof Error?e.message:"获取储物柜详情失败"}}},E=async e=>{try{console.log("预订储物柜请求URL:","/api/locker/book_locker");let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/locker/book_locker",{method:"POST",headers:a,body:JSON.stringify({record_id:e})}),o=await t.json();return console.log("预订储物柜响应状态:",t.status),console.log("预订储物柜响应结果:",o),{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("预订储物柜异常:",e),{code:500,message:e instanceof Error?e.message:"预订储物柜失败"}}},C=async e=>{try{console.log("取消预订请求URL:","/api/locker/cancel_book");let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/locker/cancel_book",{method:"POST",headers:a,body:JSON.stringify({record_id:e})}),o=await t.json();return console.log("取消预订响应状态:",t.status),console.log("取消预订响应结果:",o),{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("取消预订异常:",e),{code:500,message:e instanceof Error?e.message:"取消预订失败"}}},b=async e=>{try{console.log("申请退柜请求URL:","/api/locker/return_locker");let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/locker/return_locker",{method:"POST",headers:a,body:JSON.stringify(e)}),o=await t.json();return console.log("申请退柜响应状态:",t.status),console.log("申请退柜响应结果:",o),{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("申请退柜异常:",e),{code:500,message:e instanceof Error?e.message:"申请退柜失败"}}},S=async(e,a)=>{try{let t=(0,s._)({"Content-Type":"application/json"},r()),o=await fetch("/api/students/schedule/".concat(e,"/").concat(a),{method:"GET",headers:t});return await o.json()}catch(e){return{status:-1,message:e instanceof Error?e.message:"获取课程表失败",data:{student_exam:{},special_day:[],lessons:[]}}}},O=async()=>{try{var e;let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/certificate/get_certificate_table",{method:"GET",headers:a}),o=await t.json();return{code:0===o.status?200:400,message:o.message||"",data:(null===(e=o.data)||void 0===e?void 0:e.rows)||[]}}catch(e){return console.error("获取证明申请列表异常:",e),{code:500,message:e instanceof Error?e.message:"获取证明申请列表失败",data:[]}}},k=async e=>{try{let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/certificate/apply",{method:"POST",headers:a,body:JSON.stringify(e)}),o=await t.json();return{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("提交证明申请异常:",e),{code:500,message:e instanceof Error?e.message:"提交证明申请失败"}}},x=async e=>{try{let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/certificate/update_status",{method:"POST",headers:a,body:JSON.stringify(e)}),o=await t.json();return{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("更新证明申请状态异常:",e),{code:500,message:e instanceof Error?e.message:"更新证明申请状态失败"}}},N=async e=>{try{let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/weekend/weekend_select/".concat(e),{method:"GET",headers:a});return await t.json()}catch(e){return console.error("获取周末选择列表异常:",e),{status:-1,message:e instanceof Error?e.message:"获取周末选择列表失败",data:{day_list:[],special_day:[]}}}},P=async e=>{try{let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/weekend/apply_live",{method:"POST",headers:a,body:JSON.stringify(e)}),o=await t.json();return{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("提交住校申请异常:",e),{code:500,message:e instanceof Error?e.message:"提交住校申请失败"}}},R=async e=>{try{let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/weekend/apply_dinner",{method:"POST",headers:a,body:JSON.stringify(e)}),o=await t.json();return{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("提交就餐申请异常:",e),{code:500,message:e instanceof Error?e.message:"提交就餐申请失败"}}},G=async()=>{try{let e=(0,s._)({"Content-Type":"application/json"},r()),a=await fetch("/api/weekend/live_list",{method:"GET",headers:e});return await a.json()}catch(e){return console.error("获取住校记录异常:",e),{status:-1,message:e instanceof Error?e.message:"获取住校记录失败",data:{rows:[],total:0}}}},J=async()=>{try{let e=(0,s._)({"Content-Type":"application/json"},r()),a=await fetch("/api/weekend/dinner_list",{method:"GET",headers:e});return await a.json()}catch(e){return console.error("获取就餐记录异常:",e),{status:-1,message:e instanceof Error?e.message:"获取就餐记录失败",data:{rows:[],total:0}}}},U=async e=>{try{let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/weekend/delete_live_record",{method:"POST",headers:a,body:JSON.stringify({record_id:e})}),o=await t.json();return{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("删除住校记录异常:",e),{code:500,message:e instanceof Error?e.message:"删除住校记录失败"}}},L=async()=>{try{let e=(0,s._)({"Content-Type":"application/json"},r()),a=await fetch("/api/exit/get_student_list",{method:"GET",headers:e});return await a.json()}catch(e){return console.error("获取出门单列表异常:",e),{status:-1,message:e instanceof Error?e.message:"获取出门单列表失败",data:{rows:[]}}}},v=async(e,a)=>{try{let t=(0,s._)({"Content-Type":"application/json"},r()),o=await fetch("/api/exit/update_door_flag",{method:"POST",headers:t,body:JSON.stringify({record_id:e,status:a})}),n=await o.json();return{code:0===n.status?200:400,message:n.message||"",data:n.data}}catch(e){return console.error("更新门禁状态异常:",e),{code:500,message:e instanceof Error?e.message:"更新门禁状态失败"}}},I=async e=>{try{let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/exit/delete_record",{method:"POST",headers:a,body:JSON.stringify({record_id:e})}),o=await t.json();return{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("删除出门单异常:",e),{code:500,message:e instanceof Error?e.message:"删除出门单失败"}}},W=async e=>{try{let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/exit/add_record",{method:"POST",headers:a,body:JSON.stringify(e)}),o=await t.json();return{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("申请出门单异常:",e),{code:500,message:e instanceof Error?e.message:"申请出门单失败"}}},z=async()=>{try{let e=(0,s._)({"Content-Type":"application/json"},r()),a=await fetch("/api/cashin/get_select",{method:"GET",headers:e});return await a.json()}catch(e){return console.error("获取Late Cashin下拉菜单异常:",e),{status:-1,message:e instanceof Error?e.message:"获取下拉菜单失败",data:{season_list:[],subjects:[],level:[]}}}},A=async()=>{try{let e=(0,s._)({"Content-Type":"application/json"},r()),a=await fetch("/api/cashin/get_list",{method:"GET",headers:e});return await a.json()}catch(e){return console.error("获取Late Cashin列表异常:",e),{status:-1,message:e instanceof Error?e.message:"获取列表失败",data:{rows:[],total:0}}}},D=async e=>{try{let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/cashin/add_record",{method:"POST",headers:a,body:JSON.stringify(e)}),o=await t.json();return{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("提交Late Cashin申请异常:",e),{code:500,message:e instanceof Error?e.message:"提交申请失败"}}},$=async()=>{try{let e=(0,s._)({"Content-Type":"application/json"},r()),a=await fetch("/api/withdrawal/get_select",{method:"GET",headers:e});return await a.json()}catch(e){return console.error("获取Exam Withdrawal下拉菜单异常:",e),{status:-1,message:e instanceof Error?e.message:"获取下拉菜单失败",data:{season_list:[],paid_exam:{}}}}},q=async()=>{try{let e=(0,s._)({"Content-Type":"application/json"},r()),a=await fetch("/api/withdrawal/get_list",{method:"GET",headers:e});return await a.json()}catch(e){return console.error("获取Exam Withdrawal列表异常:",e),{status:-1,message:e instanceof Error?e.message:"获取列表失败",data:{rows:[],total:0}}}},F=async e=>{try{let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/withdrawal/add_record",{method:"POST",headers:a,body:JSON.stringify(e)}),o=await t.json();return{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("提交Exam Withdrawal申请异常:",e),{code:500,message:e instanceof Error?e.message:"提交申请失败"}}},V=async e=>{try{let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/cashin/update_status",{method:"POST",headers:a,body:JSON.stringify({record_id:e,status:-1})}),o=await t.json();return{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("更新Late Cashin状态异常:",e),{code:500,message:e instanceof Error?e.message:"操作失败"}}},X=async e=>{try{let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/cashin/get_cashin_pay_link/".concat(e),{method:"GET",headers:a}),o=await t.json();return console.log("获取支付链接响应:",o),{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("获取支付链接异常:",e),{code:500,message:e instanceof Error?e.message:"获取支付链接失败"}}},M=async e=>{try{let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/withdrawal/update_status",{method:"POST",headers:a,body:JSON.stringify({record_id:e,status:-1})}),o=await t.json();return console.log("撤销Exam Withdrawal响应:",o),{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("更新Exam Withdrawal状态异常:",e),{code:500,message:e instanceof Error?e.message:"操作失败"}}},Q=async()=>{try{let e=(0,s._)({"Content-Type":"application/json"},r()),a=await fetch("/api/report/student_report_list",{method:"GET",headers:e});return await a.json()}catch(e){return console.error("获取学生报告列表异常:",e),{status:-1,message:e instanceof Error?e.message:"获取报告列表失败",data:{rows:[],total:0}}}},Y=async(e,a)=>{try{let t=(0,s._)({"Content-Type":"application/json"},r()),o=await fetch("/api/report/view_report",{method:"POST",headers:t,body:JSON.stringify({student_id:e,title:a})}),n=await o.json();return{code:0===n.status?200:400,message:n.message||"",data:n.data}}catch(e){return console.error("预览/下载报告异常:",e),{code:500,message:e instanceof Error?e.message:"预览/下载报告失败"}}},B=async()=>{try{let e=(0,s._)({"Content-Type":"application/json"},r()),a=await fetch("/api/subjects/student_signup_info",{method:"GET",headers:e});return await a.json()}catch(e){return console.error("获取学生报名信息异常:",e),{status:-1,message:e instanceof Error?e.message:"获取报名信息失败",data:{signed_up_list:[],not_signed_up_list:[],file_path:""}}}},H=async e=>{try{let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/subjects/student_signup",{method:"POST",headers:a,body:JSON.stringify({ids:e})}),o=await t.json();return{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("班级报名异常:",e),{code:500,message:e instanceof Error?e.message:"班级报名失败"}}},K=async e=>{try{let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/subjects/cancel_student_signup",{method:"POST",headers:a,body:JSON.stringify({record_id:e})}),o=await t.json();return{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("取消报名异常:",e),{code:500,message:e instanceof Error?e.message:"取消报名失败"}}},Z=async()=>{try{let e=(0,s._)({"Content-Type":"application/json"},r()),a=await fetch("/api/remark/list_student_remark",{method:"GET",headers:e});return await a.json()}catch(e){return console.error("获取Remarking列表异常:",e),{status:-1,message:e instanceof Error?e.message:"获取Remarking列表失败",data:{rows:[],total:0}}}},ee=async()=>{try{let e=(0,s._)({"Content-Type":"application/json"},r()),a=await fetch("/api/remark/get_select",{method:"GET",headers:e});return await a.json()}catch(e){return console.error("获取Remarking选项数据异常:",e),{status:-1,message:e instanceof Error?e.message:"获取选项数据失败",data:{season_list:[],exam_center:[],paid_exam:{},remark_type:{},remark2_type:{}}}}},ea=async e=>{try{let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/remark/update_remark_detail",{method:"POST",headers:a,body:JSON.stringify({status:-1,record_id:e})}),o=await t.json();return{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("撤销Remarking申请异常:",e),{code:500,message:e instanceof Error?e.message:"撤销申请失败"}}},et=async e=>{try{let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/remark/get_remark_pay_link",{method:"POST",headers:a,body:JSON.stringify({record_id:e})}),o=await t.json();return{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("获取Remarking支付链接异常:",e),{code:500,message:e instanceof Error?e.message:"获取支付链接失败"}}},es=async e=>{try{let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/remark/add_remark_detail",{method:"POST",headers:a,body:JSON.stringify(e)}),o=await t.json();return{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("添加Remarking申请异常:",e),{code:500,message:e instanceof Error?e.message:"添加申请失败"}}},eo=async()=>{try{let e=(0,s._)({"Content-Type":"application/json"},r()),a=await fetch("/api/service/get_list",{method:"GET",headers:e});return await a.json()}catch(e){return console.error("获取宿舍列表异常:",e),{status:-1,message:e instanceof Error?e.message:"获取宿舍列表失败",data:{paid_service:[],can_book_flag:0,all_list:[]}}}},en=async e=>{try{let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/service/book_service",{method:"POST",headers:a,body:JSON.stringify({record_id:e})}),o=await t.json();return{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("预订宿舍异常:",e),{code:500,message:e instanceof Error?e.message:"预订宿舍失败"}}},er=async e=>{try{let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/service/cancel_service",{method:"POST",headers:a,body:JSON.stringify({record_id:e})}),o=await t.json();return{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("取消预订宿舍异常:",e),{code:500,message:e instanceof Error?e.message:"取消预订宿舍失败"}}},ec=async()=>{try{let e=(0,s._)({"Content-Type":"application/json"},r()),a=await fetch("/api/textbook/get_list",{method:"GET",headers:e});return await a.json()}catch(e){return console.error("获取教材列表异常:",e),{status:-1,message:e instanceof Error?e.message:"获取教材列表失败",data:{all_list:[],books_unpaid:[],books_purchased:[]}}}},ei=async e=>{try{let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/textbook/book_textbook",{method:"POST",headers:a,body:JSON.stringify({record_id:e})}),o=await t.json();return{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("订购教材异常:",e),{code:500,message:e instanceof Error?e.message:"订购教材失败"}}},el=async e=>{try{let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/textbook/cancel_textbook",{method:"POST",headers:a,body:JSON.stringify({record_id:e})}),o=await t.json();return{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("取消订购教材异常:",e),{code:500,message:e instanceof Error?e.message:"取消订购教材失败"}}},ed=async()=>{try{let e=(0,s._)({"Content-Type":"application/json"},r()),a=await fetch("/api/textbook/get_pay_link",{method:"POST",headers:e}),t=await a.json();return{code:0===t.status?200:400,message:t.message||"",data:t.data}}catch(e){return console.error("获取教材支付链接异常:",e),{code:500,message:e instanceof Error?e.message:"获取支付链接失败"}}},eg=async e=>{try{let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/students/update_self_info",{method:"POST",headers:a,body:JSON.stringify(e)}),o=await t.json();return{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("更新用户信息异常:",e),{code:500,message:e instanceof Error?e.message:"更新用户信息失败"}}},em=async()=>{try{let e=(0,s._)({"Content-Type":"application/json"},r()),a=await fetch("/api/students/get_feedback",{method:"GET",headers:e});return await a.json()}catch(e){return console.error("获取反馈列表异常:",e),{status:-1,message:e instanceof Error?e.message:"获取反馈列表失败",data:[]}}},ep=async e=>{try{let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/students/update_feedback",{method:"POST",headers:a,body:JSON.stringify(e)});if(!t.ok)return console.error("提交反馈失败",t.statusText),{code:500,message:"网络错误，请稍后重试",data:null};let o=await t.json();return{code:0===o.status?200:500,message:o.message||(0===o.status?"提交成功":"提交失败"),data:null}}catch(e){return console.error("提交反馈失败",e),{code:500,message:"系统错误，请稍后重试",data:null}}},eu=async()=>{try{console.log("获取我的考试请求URL:","/api/exam/get_my_exam");let e=(0,s._)({"Content-Type":"application/json"},r()),a=await fetch("/api/exam/get_my_exam",{method:"GET",headers:e}),t=await a.json();return console.log("获取我的考试响应状态:",a.status),console.log("获取我的考试响应结果:",t),{status:t.status,message:t.message||"",data:t.data}}catch(e){return console.error("获取我的考试异常:",e),{status:500,message:e instanceof Error?e.message:"获取我的考试失败",data:{my_exam_signups:[],my_exam_ids:[],first_edexcel:0,first_cie:0}}}},ey=async()=>{try{console.log("获取所有考试请求URL:","/api/exam/get_all_exam");let e=(0,s._)({"Content-Type":"application/json"},r()),a=await fetch("/api/exam/get_all_exam",{method:"GET",headers:e}),t=await a.json();return console.log("获取所有考试响应状态:",a.status),console.log("获取所有考试响应结果:",t),{status:t.status,message:t.message||"",data:t.data}}catch(e){return console.error("获取所有考试异常:",e),{status:500,message:e instanceof Error?e.message:"获取所有考试失败",data:[]}}},e_=async e=>{try{console.log("报名考试请求URL:","/api/exam/signup_exam");let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/exam/signup_exam",{method:"POST",headers:a,body:JSON.stringify({exam_id:e})}),o=await t.json();return console.log("报名考试响应状态:",t.status),console.log("报名考试响应结果:",o),{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("报名考试异常:",e),{code:500,message:e instanceof Error?e.message:"报名考试失败"}}},eh=async e=>{try{console.log("更新Edexcel考号请求URL:","/api/exam/update_uci_number");let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/exam/update_uci_number",{method:"POST",headers:a,body:JSON.stringify({type_0_number:e})}),o=await t.json();return console.log("更新Edexcel考号响应状态:",t.status),console.log("更新Edexcel考号响应结果:",o),{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("更新Edexcel考号异常:",e),{code:500,message:e instanceof Error?e.message:"更新Edexcel考号失败"}}},ef=async(e,a)=>{try{console.log("更新CIE考号请求URL:","/api/exam/update_cie_number");let t=(0,s._)({"Content-Type":"application/json"},r()),o=await fetch("/api/exam/update_cie_number",{method:"POST",headers:t,body:JSON.stringify({type_1_number:e,type_2_number:a})}),n=await o.json();return console.log("更新CIE考号响应状态:",o.status),console.log("更新CIE考号响应结果:",n),{code:0===n.status?200:400,message:n.message||"",data:n.data}}catch(e){return console.error("更新CIE考号异常:",e),{code:500,message:e instanceof Error?e.message:"更新CIE考号失败"}}},ew=async()=>{try{console.log("获取考试支付链接请求URL:","/api/exam/get_pay_link");let e=(0,s._)({"Content-Type":"application/json"},r()),a=await fetch("/api/exam/get_pay_link",{method:"GET",headers:e}),t=await a.json();return console.log("获取考试支付链接响应状态:",a.status),console.log("获取考试支付链接响应结果:",t),{code:0===t.status?200:400,message:t.message||"",data:t.data}}catch(e){return console.error("获取考试支付链接异常:",e),{code:500,message:e instanceof Error?e.message:"获取考试支付链接失败"}}},ej=async e=>{try{console.log("取消考试报名请求URL:","/api/exam/cancel_exam");let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/exam/cancel_exam",{method:"POST",headers:a,body:JSON.stringify({exam_id:e})}),o=await t.json();return console.log("取消考试报名响应状态:",t.status),console.log("取消考试报名响应结果:",o),{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("取消考试报名异常:",e),{code:500,message:e instanceof Error?e.message:"取消考试报名失败"}}},eT=async()=>{try{console.log("获取学生sales信息请求URL:","/api/sales/get_student_sales_info");let e=(0,s._)({"Content-Type":"application/json"},r()),a=await fetch("/api/sales/get_student_sales_info",{method:"GET",headers:e}),t=await a.json();return console.log("获取学生sales信息响应状态:",a.status),console.log("获取学生sales信息响应结果:",t),{code:0===t.status?200:400,message:t.message||"",data:t.data}}catch(e){return console.error("获取学生sales信息异常:",e),{code:500,message:e instanceof Error?e.message:"获取学生sales信息失败"}}},eE=async e=>{try{console.log("更新学生sales信息请求URL:","/api/sales/update_sales_info");let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/sales/update_sales_info",{method:"POST",headers:a,body:JSON.stringify(e)}),o=await t.json();return{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("更新学生sales信息异常:",e),{code:500,message:e instanceof Error?e.message:"更新学生sales信息失败"}}},eC=async function(e,a){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e)try{switch(e.type){case 0:window.location.href="https://www.huayaopudong.com/staff/dashboard";break;case 4:let s=await eT();if(200===s.code){let e=s.data,o=0===e.info_sign?"/my-profile":"/my-test";t?window.location.href="/student"+o:a.push(o)}else t?window.location.href="/student/my-profile":a.push("/my-profile");break;default:t?window.location.href="/student/notification":a.push("/notification")}}catch(e){console.error("处理用户重定向异常:",e),t?window.location.href="/student/notification":a.push("/notification")}},eb=async()=>{try{let e=(0,s._)({"Content-Type":"application/json"},r()),a=await fetch("/api/sales/get_exams_thumb",{method:"GET",headers:e}),t=await a.json();return{code:0===t.status?200:400,message:t.message||"",data:t.data}}catch(e){return console.error("获取考试缩略信息异常:",e),{code:500,message:e instanceof Error?e.message:"获取考试缩略信息失败"}}},eS=async(e,a)=>{try{let t=new FormData;t.append(e,a);let s={Authorization:localStorage.getItem("token")||""},o=await fetch("/api/sales/upload_sales_image",{method:"POST",headers:s,body:t}),n=await o.json();return{code:0===n.status?200:400,message:n.message||"",data:n.data.file_path}}catch(e){return console.error("上传图片异常:",e),{code:500,message:e instanceof Error?e.message:"上传图片失败"}}},eO=async e=>{try{let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/sales/get_exams_pay_url/".concat(e),{method:"GET",headers:a}),o=await t.json();return{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){var a,t,o;return console.error("Get exam pay URL error:",e),{code:(null===(a=e.response)||void 0===a?void 0:a.status)||500,message:(null===(o=e.response)||void 0===o?void 0:null===(t=o.data)||void 0===t?void 0:t.message)||"获取支付链接失败",data:{}}}},ek=async e=>{try{console.log("获取考试设置信息请求URL:","/api/sales/get_exams_setting/".concat(e));let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/sales/get_exams_setting/".concat(e),{method:"GET",headers:a}),o=await t.json();return console.log("获取考试设置信息响应状态:",t.status),console.log("获取考试设置信息响应结果:",o),{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("获取考试设置信息异常:",e),{code:500,message:e instanceof Error?e.message:"获取考试设置信息失败"}}},ex=async e=>{try{console.log("提交考试报名请求URL:","/api/sales/add_exams_apply"),console.log("提交考试报名请求参数:",e);let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/sales/add_exams_apply",{method:"POST",headers:a,body:JSON.stringify(e)}),o=await t.json();return console.log("提交考试报名响应状态:",t.status),console.log("提交考试报名响应结果:",o),{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("提交考试报名异常:",e),{code:500,message:e instanceof Error?e.message:"提交考试报名失败"}}},eN=async e=>{try{console.log("获取英语标化成绩请求URL:","/api/sales/get_sales_standard_score/".concat(e));let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/sales/get_sales_standard_score/".concat(e),{method:"GET",headers:a}),o=await t.json();return console.log("获取英语标化成绩响应状态:",t.status),console.log("获取英语标化成绩响应结果:",o),{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("获取英语标化成绩异常:",e),{code:500,message:e instanceof Error?e.message:"获取英语标化成绩失败"}}},eP=async e=>{try{console.log("提交英语标化成绩请求URL:","/api/sales/update_sales_standard_score"),console.log("提交英语标化成绩请求参数:",e);let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/sales/update_sales_standard_score",{method:"POST",headers:a,body:JSON.stringify(e)}),o=await t.json();return console.log("提交英语标化成绩响应状态:",t.status),console.log("提交英语标化成绩响应结果:",o),{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("提交英语标化成绩异常:",e),{code:500,message:e instanceof Error?e.message:"提交英语标化成绩失败"}}},eR=async()=>{try{let e=(0,s._)({"Content-Type":"application/json"},r()),a=await fetch("/api/sales/get_sales_interview",{method:"GET",headers:e}),t=await a.json();return{code:0===t.status?200:400,message:t.message||"",data:t.data}}catch(e){return console.error("获取面试列表异常:",e),{code:500,message:e instanceof Error?e.message:"获取面试列表失败"}}},eG=async()=>{try{let e=(0,s._)({"Content-Type":"application/json"},r()),a=await fetch("/api/sales/get_interview_time_slots",{method:"GET",headers:e}),t=await a.json();return{code:0===t.status?200:400,message:t.message||"",data:t.data}}catch(e){return console.error("获取面试时间槽异常:",e),{code:500,message:e instanceof Error?e.message:"获取面试时间槽失败"}}},eJ=async e=>{try{let a=(0,s._)({"Content-Type":"application/json"},r()),t=await fetch("/api/sales/update_sales_interview",{method:"POST",headers:a,body:JSON.stringify(e)}),o=await t.json();return{code:0===o.status?200:400,message:o.message||"",data:o.data}}catch(e){return console.error("更新面试信息异常:",e),{code:500,message:e instanceof Error?e.message:"更新面试信息失败"}}},eU=async()=>{try{console.log("获取学生承诺书列表请求URL:","/api/commitment/get_student_list");let e=(0,s._)({"Content-Type":"application/json"},r()),a=await fetch("/api/commitment/get_student_list",{method:"GET",headers:e}),t=await a.json();return console.log("获取学生承诺书列表响应状态:",a.status),console.log("获取学生承诺书列表响应结果:",t),{code:0===t.status?200:400,message:t.message||"",data:t.data}}catch(e){return console.error("获取学生承诺书列表异常:",e),{code:500,message:e instanceof Error?e.message:"获取承诺书列表失败"}}},eL=async(e,a)=>{try{console.log("更新承诺书状态请求参数:",{record_id:e,key:a}),console.log("更新承诺书状态请求URL:","/api/commitment/update_status");let t=(0,s._)({"Content-Type":"application/json"},r()),o=await fetch("/api/commitment/update_status",{method:"POST",headers:t,body:JSON.stringify({record_id:e,key:a})}),n=await o.json();return console.log("更新承诺书状态响应状态:",o.status),console.log("更新承诺书状态响应结果:",n),{code:0===n.status?200:400,message:n.message||"",data:n.data}}catch(e){return console.error("更新承诺书状态异常:",e),{code:500,message:e instanceof Error?e.message:"更新承诺书状态失败"}}}}}]);
//# sourceMappingURL=508-ba13bf871d69c7ba.js.map